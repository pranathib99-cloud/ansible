- name: functions      #functions are used to manipulate data types
  hosts: localhost
  connection: local
  become: yes
  vars: 
   technology: " ansible , docker , kubernets"  # string variable
   #dictionary = map
   tags:
    application: payment
    enviroment: dev
    # 
   listtags:
   - key: application
     value: payment
   - key: enviroment
     value: dev 

  tasks: 
  - name: default variable
    ansible.builtin.debug:
     msg: "hello my dear {{ name | default('pranathi')}}"

   # srings to list conversion
  - name: convert string to list 
    ansible.builtin.debug:
     msg: "technology list is: {{ technology | split(',')}}"

  - name: convert dictionary to list #dectionary to map conversion
    ansible.builtin.debug:
     msg: "tag are: {{tags | dict2items}}"

  - name: conver list to mapping
    ansible.builtin.debug:
     msg: "list to mapping : {{ listtags | items2dict}}" 


     #convertiong a yaml file to json
  - name: conver yaml and take into a json variable
    ansible.builtin.set_fact:
     student_ymal: "{{ lookup('file','student.yaml') | from_yaml }}"
  - name: convert yaml into json
    ansible.builtin.debug:
      msg: "json: {{ student_yaml | to_json  }}"

  
  - name: save json to file
    ansible.builtin.copy:
     dest: student-data.json
     content: "{{ stydent_yaml | to_nice_json }}"
